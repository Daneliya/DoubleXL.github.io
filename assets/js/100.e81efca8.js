(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{1731:function(a,s,t){"use strict";t.r(s);var e=t(3),n=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("官方文档：https://arthas.gitee.io/")]),a._v(" "),s("h2",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),s("h3",{attrs:{id:"从-maven-仓库下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#从-maven-仓库下载"}},[a._v("#")]),a._v(" 从 Maven 仓库下载")]),a._v(" "),s("p",[a._v("最新版本，点击下载："),s("a",{attrs:{href:"https://arthas.aliyun.com/download/latest_version?mirror=aliyun",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:t(438),alt:"Arthas"}}),s("OutboundLink")],1)]),a._v(" "),s("h3",{attrs:{id:"从-github-releases-页下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#从-github-releases-页下载"}},[a._v("#")]),a._v(" 从 Github Releases 页下载")]),a._v(" "),s("p",[a._v("https://github.com/alibaba/arthas/releases")]),a._v(" "),s("h3",{attrs:{id:"用-as-sh-启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用-as-sh-启动"}},[a._v("#")]),a._v(" 用 as.sh 启动")]),a._v(" "),s("p",[a._v("解压后，在文件夹里有"),s("code",[a._v("as.sh")]),a._v("，直接用"),s("code",[a._v("./as.sh")]),a._v("的方式启动：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("./as.sh\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("打印帮助信息：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("./as.sh "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("或者直接下载启动脚本文件 "),s("code",[a._v("as.sh")]),a._v(" 到当前目录，直接在 shell 下面执行"),s("code",[a._v("./as.sh")]),a._v("，就会进入交互界面")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-L")]),a._v(" https://arthas.aliyun.com/install.sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sh")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"用-arthas-boot-启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用-arthas-boot-启动"}},[a._v("#")]),a._v(" 用 arthas-boot 启动")]),a._v(" "),s("p",[a._v("或者在解压后，在文件夹里有"),s("code",[a._v("arthas-boot.jar")]),a._v("，直接用"),s("code",[a._v("java -jar")]),a._v("的方式启动：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("java")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-jar")]),a._v(" arthas-boot.jar\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("打印帮助信息：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("java")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-jar")]),a._v(" arthas-boot.jar "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"实战"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实战"}},[a._v("#")]),a._v(" 实战")]),a._v(" "),s("p",[a._v("https://www.cnblogs.com/itxiaoshen/p/15854197.html")]),a._v(" "),s("p",[a._v("https://www.cnblogs.com/yaoyu1983/p/17373522.html")]),a._v(" "),s("p",[a._v("https://blog.csdn.net/weixin_40816738/article/details/123308455")]),a._v(" "),s("p",[a._v("https://wenku.baidu.com/view/9b750a2fff4ffe4733687e21af45b307e871f91e.html?fr=sogou&"),s("em",[a._v("wkts")]),a._v("=1694659165451")]),a._v(" "),s("p",[a._v("https://zhuanlan.zhihu.com/p/322094284")]),a._v(" "),s("h2",{attrs:{id:"问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[a._v("#")]),a._v(" 问题")]),a._v(" "),s("p",[a._v("1、The telnet port 3658 is used by process 28221 instead of target process 96492, you will connect to an unexpected process")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("ERROR"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" The telnet port "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3658")]),a._v(" is used by process "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("28221")]),a._v(" instead of target process "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("96492")]),a._v(", you will connect to an unexpected process.\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("ERROR"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(". Try to restart arthas-boot, "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("select")]),a._v(" process "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("28221")]),a._v(", "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("shutdown")]),a._v(" it first with running the ‘stop’ command.\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("ERROR"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(". Or try to stop the existing arthas instance: "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("java")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-jar")]),a._v(" arthas-client.jar "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1 "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3658")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" “stop”\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("ERROR"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(". Or try to use different telnet port, "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" example: "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("java")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-jar")]),a._v(" arthas-boot.jar --telnet-port "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9998")]),a._v(" --http-port "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-1")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v("上次连接的进程，未正常退出。重新选择上次的连接，执行stop。")]),a._v(" "),s("p",[a._v("如果连接超时，查询端口进程，强制杀掉。")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("netstat")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-tln")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("netstat")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-tln")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" 端口\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看端口被哪个进程占用")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("lsof")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" :端口\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 杀掉进程")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("kill")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-9")]),a._v(" 进程id\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("p",[a._v("2、arthas报“Can not find java process”")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@iZm5e1egdpr5bckrj8gty5Z arthas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# sudo java -jar arthas-boot.jar")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" JAVA_HOME: /usr/lib/jvm/java-11-openjdk-11.0.21.0.9-2.0.3.al8.x86_64\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" arthas-boot version: "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.7")]),a._v(".2\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" Can not "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("java")]),a._v(" process. Try to run "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("jps"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("command")]),a._v(" lists the instrumented Java HotSpot VMs on the target system.\nPlease "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("select")]),a._v(" an available pid.\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[a._v("解决方式一：未使用root权限，sudo执行命令")]),a._v(" "),s("p",[a._v("解决方式二：找不到jps命令，默认安装的openjdk是不支持jps的，所以需要卸载Open JDK，\n安装Oracle JDK：https://www.cnblogs.com/andy020/p/17511279.html\nor\n安装关联包：https://blog.51cto.com/u_13890915/4653202")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 在提示的版本上增加 devel ")]),a._v("\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" java-11-openjdk-devel-11.0.21.0.9-2.0.3.al8.x86_64\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[a._v("#")]),a._v(" 参考：")]),a._v(" "),s("p",[a._v("https://www.cnblogs.com/lyn8100/p/17377845.html")]),a._v(" "),s("p",[a._v("https://zhuanlan.zhihu.com/p/519213445")]),a._v(" "),s("p",[a._v("https://www.bilibili.com/video/BV19k4y1k7o9/")]),a._v(" "),s("p",[a._v("https://zhuanlan.zhihu.com/p/584170583")]),a._v(" "),s("p",[a._v("https://www.cnblogs.com/jaigejiayou/p/15735690.html")]),a._v(" "),s("p",[a._v("https://zhuanlan.zhihu.com/p/429565721")])])}),[],!1,null,null,null);s.default=n.exports},438:function(a,s,t){a.exports=t.p+"assets/img/v.296ea69b.svg"}}]);