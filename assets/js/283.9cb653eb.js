(window.webpackJsonp=window.webpackJsonp||[]).push([[283],{1989:function(s,t,e){"use strict";e.r(t);var a=e(3),n=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("在实际项目开发中任何项目都很难脱离数据库而单独存在，所以为了提高数据库的操作性能，开发者往往会借助于数据库连接池来进行处理，同时在项目中利用DataSource进行数据源的连接。常用的有C3P0和Druid两类数据库连接池。")]),s._v(" "),t("h2",{attrs:{id:"springboot整合c3p0数据库连接池"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#springboot整合c3p0数据库连接池"}},[s._v("#")]),s._v(" SpringBoot整合C3P0数据库连接池")]),s._v(" "),t("p",[s._v("C3P0是一个开源的JDBC连接池，它实现了数据源和JNDI绑定，支持JDBC3规范和JDBC2的标准扩展，同时在Hibernate、Spring项目开发中被广泛应用。")]),s._v(" "),t("p",[s._v("修改父pom.xml配置文件，追加C3P0依赖支持管理。")]),s._v(" "),t("p",[s._v("修改pom.xml配置文件，引入C3P0的相关依赖支持库。")]),s._v(" "),t("p",[s._v("修改application.yml配置文件，追加C3P0数据库连接池配置信息。")]),s._v(" "),t("p",[s._v("建立C3P0数据源连接池配置类，此时设置的Bean名称为dataSource。")]),s._v(" "),t("p",[s._v("编写测试类，测试当前DataSource配置是否正确。")]),s._v(" "),t("p",[s._v("如果有以下报错：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("java.sql.SQLException: SSL connection required "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" plugin "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sha256_password'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" Check "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"useSSL"')]),s._v(" is "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" to "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"true"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("在数据库连接后面追加"),t("code",[s._v("?useSSL=false")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("java.sql.SQLException: The server "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" zone value "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ÖÐ¹ú±ê×¼Ê±¼ä'")]),s._v(" is unrecognized or represents "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" than one "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" zone. You must configure either the server or JDBC driver "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("via the serverTimezone configuration property"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to use a "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" specifc "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" zone value "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" you want to utilize "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" zone support.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("在数据库连接后面追加"),t("code",[s._v("?serverTimezone=UTC")])]),s._v(" "),t("h2",{attrs:{id:"springboot整合druid数据库连接池"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#springboot整合druid数据库连接池"}},[s._v("#")]),s._v(" SpringBoot整合Druid数据库连接池")]),s._v(" "),t("p",[s._v("Druid是阿里巴巴推出的一款数据库连接池组件（可以理解为C3P0的下一代产品），也是一个用于大数据实时查询和分析的高容错、高性能开源分布式系统，可高效处理大规模的数据并实现快速查询和分析。")]),s._v(" "),t("p",[s._v("修改父pom.xml文件，引入Druid的相关依赖库。")]),s._v(" "),t("p",[s._v("修改pom.xml配置文件，追加Druid依赖配置。")]),s._v(" "),t("p",[s._v("修改application.yml配置文件，追加Druid的连接配置。")]),s._v(" "),t("p",[s._v("此时，项目中就可以采用Druid数据库连接池来进行数据库操作了。")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("提示：进行连接测试前需要导入相应ORM框架的依赖支持包。")])]),s._v(" "),t("p",[s._v("在本程序中，如果要进行DataSource连接测试，则需要导入ORM依赖关联包。例如，可以在本程序中导入MyBatis的ORM开发包。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("导入以上开发包之后，可以正常测试。如果未导入，则程序测试时会出现Unsatisfied DependencyException异常信息。")])])])}),[],!1,null,null,null);t.default=n.exports}}]);