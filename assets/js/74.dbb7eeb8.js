(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{1697:function(a,s,e){a.exports=e.p+"assets/img/image-20240423143622398.c66cfc6b.png"},1698:function(a,s,e){a.exports=e.p+"assets/img/image-20240423143555034.3e090fdf.png"},1699:function(a,s,e){a.exports=e.p+"assets/img/image-20240423142715108.d5c5f3f6.png"},1700:function(a,s,e){a.exports=e.p+"assets/img/image-20240423142730623.42b9cde6.png"},2026:function(a,s,e){"use strict";e.r(s);var t=e(3),r=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h3",{attrs:{id:"mongo工具包介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongo工具包介绍"}},[a._v("#")]),a._v(" Mongo工具包介绍")]),a._v(" "),s("p",[a._v("mongo工具包包括管理数据的一些工具 exe 文件，具体如下：")]),a._v(" "),s("ol",[s("li",[a._v("mongoexport.exe：导出数据命令工具")]),a._v(" "),s("li",[a._v("mongoimport.exe：导入数据命令工具")]),a._v(" "),s("li",[a._v("bsondump.exe： 用于将导出的BSON文件格式转换为JSON格式")]),a._v(" "),s("li",[a._v("mongodump.exe： 用于从mongodb数据库中导出BSON格式的文件，类似于mysql的dump工具mysqldump")]),a._v(" "),s("li",[a._v("mongofiles.exe： 用于和mongoDB的GridFS文件系统交互的命令，并可操作其中的文件，它提供了我们本地系统与GridFS文件系统之间的存储对象接口")]),a._v(" "),s("li",[a._v("mongorestore.exe： 用于恢复导出的BSON文件到 mongodb 数据库中")]),a._v(" "),s("li",[a._v("mongostat.exe： 当前 mongod 状态监控工具，像linux中监控linux的vmstat")]),a._v(" "),s("li",[a._v("mongotop.exe： 提供了一个跟踪mongod数据库花费在读写数据的时间，为每个collection都会记录，默认记录时间是按秒记录")])]),a._v(" "),s("h3",{attrs:{id:"mongo工具包下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongo工具包下载"}},[a._v("#")]),a._v(" Mongo工具包下载")]),a._v(" "),s("p",[a._v("MongoDB安装参考之前的文章")]),a._v(" "),s("p",[a._v("安装后，部分版本会自带该工具包，比如下图的 4.x 版本，我用的 5.0 版本没有自带工具包，所以我需要先去官网下载4.x 的安装包文件，然后把 bin 目录下的工具复制到 5.0 版本的 bin 目录下，才能进行数据的导出、导入操作。")]),a._v(" "),s("p",[s("img",{attrs:{src:e(1697),alt:"image-20240423143622398"}})]),a._v(" "),s("p",[a._v("将下载的 4.x 里的工具文件复制到 5.0 的安装目录")]),a._v(" "),s("p",[s("img",{attrs:{src:e(1698),alt:"image-20240423143555034"}})]),a._v(" "),s("h3",{attrs:{id:"导出导出实战"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导出导出实战"}},[a._v("#")]),a._v(" 导出导出实战")]),a._v(" "),s("p",[a._v("涉及命令工具：mongoexport、mongoimport")]),a._v(" "),s("div",{staticClass:"language-markdown line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-markdown"}},[s("code",[a._v("参数释义：\n-h ：指的是 host 主机地址\n-u ：指的是用户账号\n-p ：指的是账户密码\n-d ：指的是数据库 database 简称\n-c ：指的是表 collection 简称\n-o ：指的是导出路径 output 简称\n--file ：指的是需要导入的文件\n--help : 查看帮助\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br")])]),s("p",[a._v("实战示例：将108服务器中examdb库中的exam表复制到106服务器中。")]),a._v(" "),s("p",[a._v("将数据以JSON格式导出到本地")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("./mongoexport.exe "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".100.108:27017 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"root"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"password"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--authenticationDatabase")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("admin "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" examdb "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" exam "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("exam001.json "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--type")]),a._v(" json\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:e(1699),alt:"image-20240423142715108"}})]),a._v(" "),s("p",[a._v("导入到另一条服务器中")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("./mongoimport.exe "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".100.106:27017 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"root"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"password"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--authenticationDatabase")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("admin "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" examdb "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" exam001 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--file")]),a._v(" D:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("exam001.json\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:e(1700),alt:"image-20240423142730623"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);